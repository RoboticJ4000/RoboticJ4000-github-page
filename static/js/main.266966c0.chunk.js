(this["webpackJsonpgithub-page-app"]=this["webpackJsonpgithub-page-app"]||[]).push([[0],{11:function(e,t,a){},16:function(e,t,a){},18:function(e,t,a){"use strict";a.r(t);var n=a(2),s=a.n(n),r=a(10),i=a.n(r),c=(a(16),a(8)),l=a(3),o=a(4),h=a(1),u=a(6),b=a(5),d=(a(11),a(7)),p=a(0),j=function(e){Object(u.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={},n}return Object(o.a)(a,[{key:"render",value:function(){var e=this;function t(e){var t,a=e.charAt(0).toLowerCase().concat(e.substring(1)),n="",s=new RegExp("[a-zA-Z]"),r=Object(c.a)(a);try{for(r.s();!(t=r.n()).done;){var i=t.value;s.test(i)&&(n+=i)}}catch(l){r.e(l)}finally{r.f()}return Object(p.jsx)("option",{value:n,children:e},n)}var n,s=a.stackAb.map(t),r=a.type.map(t);return n="headgear"===this.props.gear.type?s.concat(a.headgearAb.map(t)):"clothing"===this.props.gear.type?s.concat(a.clothingAb.map(t)):s.concat(a.shoesAb.map(t)),s.push(a.empty),this.props.allowBlank&&(n.push(a.blank),s.push(a.blank),r.push(a.blank)),Object(p.jsxs)("form",{className:"Form",onSubmit:function(t){return e.props.handleSubmit(t)},children:[Object(p.jsx)("h1",{children:this.props.formTitle}),Object(p.jsxs)("div",{className:"Form-input",children:[Object(p.jsx)("label",{children:"Type:"}),Object(p.jsx)("select",{name:"type",value:this.props.gear.type,onChange:function(t){return e.props.handleChange(t)},children:r})]}),Object(p.jsxs)("div",{className:"Form-input",children:[Object(p.jsx)("label",{children:"Name:"}),Object(p.jsx)("input",{type:"text",name:"name",value:this.props.gear.name,onChange:function(t){return e.props.handleChange(t)}})]}),Object(p.jsxs)("div",{className:"Form-input",children:[Object(p.jsx)("label",{children:"Main Abillity:"}),Object(p.jsx)("select",{className:"Main-Ab",name:"main",value:this.props.gear.main,onChange:function(t){return e.props.handleChange(t)},children:n})]}),Object(p.jsxs)("div",{className:"Form-input",children:[Object(p.jsx)("label",{children:"Sub Abilities:"}),Object(p.jsxs)("div",{className:"Sub-abilities",children:[Object(p.jsx)("select",{className:"Sub-ab",name:"sub1",value:this.props.gear.sub1,onChange:function(t){return e.props.handleChange(t)},children:s}),Object(p.jsx)("select",{className:"Sub-ab",name:"sub2",value:this.props.gear.sub2,onChange:function(t){return e.props.handleChange(t)},children:s}),Object(p.jsx)("select",{className:"Sub-ab",name:"sub3",value:this.props.gear.sub3,onChange:function(t){return e.props.handleChange(t)},children:s})]})]}),Object(p.jsxs)("div",{className:"Form-submit",children:[Object(p.jsx)("input",{type:"submit",value:this.props.submitText}),this.props.children]})]})}}]),a}(s.a.Component);j.type=["Headgear","Clothing","Shoes"],j.stackAb=["Ink Saver (Main)","Ink Saver (Sub)","Ink Recovery Up","Run Speed Up","Swim Speed Up","Special Charge Up","Special Saver","Special Power Up","Quick Respawn","Quick Super Jump","Sub Power Up","Ink Resistance Up","Bomb Defense Up DX","Main Power Up"],j.headgearAb=["Opening Gambit","Last Ditch Effort","Tenacity","Comeback"],j.clothingAb=["Ninja Squid","Haunt","Thermal Ink","Respawn Punisher","Ability Doubler"],j.shoesAb=["Stealth Jump","Object Shredder","Drop Roller"],j.empty=Object(p.jsx)("option",{value:"empty",children:"Empty"},"empty"),j.blank=Object(p.jsx)("option",{value:"blank"},"blank");var m=j,g=function(e){Object(u.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={type:"headgear",name:"",main:"inkSaverMain",sub1:"empty",sub2:"empty",sub3:"empty"},n.handleChange=n.handleChange.bind(Object(h.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(h.a)(n)),n}return Object(o.a)(a,[{key:"handleChange",value:function(e){"name"===e.target.name?this.setState({name:e.target.value.toUpperCase()}):this.setState(Object(d.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.state.name?this.props.addGear(this.state):window.alert("Gear has no name.\nAll gear must have a name.\nNo gear was added to the database.")}},{key:"render",value:function(){return Object(p.jsx)(m,{gear:this.state,formTitle:"Add Gear",handleChange:this.handleChange,handleSubmit:this.handleSubmit,submitText:"Add"})}}]),a}(s.a.Component),O=function(e){Object(u.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state=a.initialState,n.handleChange=n.handleChange.bind(Object(h.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(h.a)(n)),n.resetForm=n.resetForm.bind(Object(h.a)(n)),n}return Object(o.a)(a,[{key:"handleChange",value:function(e){"name"===e.target.name?this.setState({name:e.target.value.toUpperCase()}):this.setState(Object(d.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){e.preventDefault();for(var t=Object.values(this.state),n=Object.values(a.initialState),s=!0,r=0;r<n.length;r++)s=s&&t[r]===n[r];s?this.props.setFilter({}):this.props.setFilter(this.state)}},{key:"resetForm",value:function(){this.setState(a.initialState),this.props.setFilter({})}},{key:"render",value:function(){return Object(p.jsx)(m,{gear:this.state,formTitle:"Search Gear",handleChange:this.handleChange,handleSubmit:this.handleSubmit,submitText:"Search",allowBlank:!0,children:Object(p.jsx)("input",{type:"button",onClick:this.resetForm,value:"Reset"})})}}]),a}(s.a.Component);O.initialState={type:"blank",name:"",main:"blank",sub1:"blank",sub2:"blank",sub3:"blank"};var f=O,v=function(e){Object(u.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={file:null},n.onChange=n.onChange.bind(Object(h.a)(n)),n.onSubmit=n.onSubmit.bind(Object(h.a)(n)),n}return Object(o.a)(a,[{key:"onChange",value:function(e){e.target.files.length>0?this.setState({file:e.target.files[0]}):this.setState({file:null})}},{key:"onSubmit",value:function(e){e.preventDefault(),this.state.file?this.props.importFile(this.state.file):window.alert("No file selected. No database was imported.")}},{key:"render",value:function(){var e=this;return Object(p.jsxs)("form",{className:"Form",onSubmit:function(t){return e.onSubmit(t)},children:[Object(p.jsx)("h1",{children:"File IO"}),Object(p.jsxs)("div",{className:"Form-input",children:[Object(p.jsx)("label",{children:"Select file:"}),Object(p.jsx)("input",{type:"file",accept:".json",onChange:function(t){return e.onChange(t)}})]}),Object(p.jsxs)("div",{className:"Form-submit",children:[Object(p.jsx)("input",{type:"submit",value:"Import"}),this.props.children]})]})}}]),a}(s.a.Component),y=function(e){Object(u.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={},n.onClick=n.onClick.bind(Object(h.a)(n)),n}return Object(o.a)(a,[{key:"onClick",value:function(){this.props.selectGear(this.props.gear.name)}},{key:"render",value:function(){var e=this.props.gear.type,t=e.charAt(0).toUpperCase().concat(e.substring(1));return Object(p.jsxs)("tr",{className:"Gear-display",style:this.props.selected?{color:"red"}:{color:"black"},onClick:this.onClick,children:[Object(p.jsx)("td",{className:"Type-cell",headers:"type",children:t}),Object(p.jsx)("td",{className:"Name-cell",headers:"name",children:this.props.gear.name}),Object(p.jsx)("td",{className:"Ability-cell",headers:"main",children:Object(p.jsx)("img",{src:"/jjsoong-github-page/ability_icons/"+this.props.gear.main+".png",alt:this.props.gear.main})}),Object(p.jsx)("td",{className:"Ability-cell",headers:"sub1",children:Object(p.jsx)("img",{src:"/jjsoong-github-page/ability_icons/"+this.props.gear.sub1+".png",alt:this.props.gear.sub1})}),Object(p.jsx)("td",{className:"Ability-cell",headers:"sub2",children:Object(p.jsx)("img",{src:"/jjsoong-github-page/ability_icons/"+this.props.gear.sub2+".png",alt:this.props.gear.sub2})}),Object(p.jsx)("td",{className:"Ability-cell",headers:"sub3",children:Object(p.jsx)("img",{src:"/jjsoong-github-page/ability_icons/"+this.props.gear.sub3+".png",alt:this.props.gear.sub3})})]})}}]),a}(s.a.Component),S=function(e){Object(u.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={},n}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.props.gearArray.map((function(t){return Object(p.jsx)(y,{gear:t,selectGear:e.props.selectGear,selected:t.name===e.props.gearSelected},t.name)}));return Object(p.jsxs)("table",{className:"Display",children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{className:"Type-cell",headers:"type",children:"Type"}),Object(p.jsx)("th",{className:"Name-cell",headers:"name",children:"Name"}),Object(p.jsx)("th",{className:"Ability-cell",headers:"main",children:"Main"}),Object(p.jsx)("th",{className:"Ability-cell",headers:"sub1",children:"Sub 1"}),Object(p.jsx)("th",{className:"Ability-cell",headers:"sub2",children:"Sub 2"}),Object(p.jsx)("th",{className:"Ability-cell",headers:"sub3",children:"Sub 3"})]})}),Object(p.jsx)("tbody",{children:t})]})}}]),a}(s.a.Component),x=function(e){Object(u.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={showAddItem:!1,showSearchItem:!1,showFileIO:!1,gearFilter:{},gearArray:[],gearSelected:void 0},n.toggleAddItem=n.toggleAddItem.bind(Object(h.a)(n)),n.toggleSearchItem=n.toggleSearchItem.bind(Object(h.a)(n)),n.toggleFileIO=n.toggleFileIO.bind(Object(h.a)(n)),n.selectGear=n.selectGear.bind(Object(h.a)(n)),n.resetDatabase=n.resetDatabase.bind(Object(h.a)(n)),n.queryDB=n.queryDB.bind(Object(h.a)(n)),n.addGear=n.addGear.bind(Object(h.a)(n)),n.setFilter=n.setFilter.bind(Object(h.a)(n)),n.removeGear=n.removeGear.bind(Object(h.a)(n)),n.importFile=n.importFile.bind(Object(h.a)(n)),n.displayGear=n.displayGear.bind(Object(h.a)(n)),n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.displayGear()}},{key:"toggleAddItem",value:function(){this.setState({showAddItem:!this.state.showAddItem,showSearchItem:!1,showFileIO:!1})}},{key:"toggleSearchItem",value:function(){this.setState({showAddItem:!1,showSearchItem:!this.state.showSearchItem,showFileIO:!1})}},{key:"toggleFileIO",value:function(){this.setState({showAddItem:!1,showSearchItem:!1,showFileIO:!this.state.showFileIO})}},{key:"selectGear",value:function(e){this.setState({gearSelected:e})}},{key:"queryDB",value:function(e,t){var a=indexedDB.open("database",1);a.onupgradeneeded=function(e){var t=a.result;if(!t.objectStoreNames.contains("gears")){var n=t.createObjectStore("gears",{keyPath:"name"});n.createIndex("nameIndex","name",{unique:!0}),n.createIndex("typeIndex","type")}},a.onerror=function(){console.error("Failed to open database",a.error)},a.onsuccess=function(){var n=a.result;e.apply(t,[n])},a.onblocked=function(){window.alert('Error. Please delete the "gears" IndexedDB database.')}}},{key:"addGear",value:function(e){this.queryDB((function(t){var a=t.transaction("gears","readwrite").objectStore("gears").add(e);a.onerror=function(){window.alert("Cannot add the gear to the database.\nGear must have unique names.")},a.onsuccess=function(){window.alert('"'+e.name+'" was added to database.')}}),this),this.displayGear()}},{key:"setFilter",value:function(e){var t=this;this.setState({gearFilter:e},(function(){return t.displayGear()}))}},{key:"removeGear",value:function(){if(this.state.gearSelected){this.queryDB((function(e){e.transaction("gears","readwrite").objectStore("gears").delete(this.state.gearSelected),window.alert('"'+this.state.gearSelected+'" was removed from the database'),this.setState({gearSelected:void 0})}),this),this.displayGear()}else window.alert("No gear was selected.\nNothing was removed from the database.")}},{key:"importFile",value:function(e){var t,a=new FileReader,n=this;a.onload=function(){t=a.result;var e=JSON.parse(t);n.resetDatabase();n.queryDB((function(t){var a,n=t.transaction("gears","readwrite"),s=n.objectStore("gears"),r=Object(c.a)(e);try{for(r.s();!(a=r.n()).done;){var i=a.value;s.add(i).onerror=function(){window.alert("Error importing objects into database..."),n.abort()}}}catch(l){r.e(l)}finally{r.f()}n.oncomplete=function(){window.alert("Import successful")}}),this),n.displayGear()},a.readAsText(e)}},{key:"displayGear",value:function(){var e,t=this;if(0===Object.keys(this.state.gearFilter).length)e=function(e){var a,n,s,r=e.transaction("gears","readonly"),i=r.objectStore("gears").index("typeIndex"),c=i.getAll("headgear"),l=i.getAll("clothing"),o=i.getAll("shoes");c.onsuccess=function(){a=c.result},l.onsuccess=function(){n=l.result},o.onsuccess=function(){s=o.result},r.oncomplete=function(){if(a&&n&&s){var e=a.concat(n).concat(s);t.setState({gearArray:e})}else console.log("Error retrieving from index.")}};else{var a=this.state.gearFilter,n=[],s=function(e){var t=e.result;if(t){var s=t.value,r=[s.sub1,s.sub2,s.sub3];a.name&&!s.name.includes(a.name)||"blank"!==a.main&&s.main!==a.main||"blank"!==a.sub1&&!r.includes(a.sub1)||"blank"!==a.sub2&&!r.includes(a.sub2)||"blank"!==a.sub3&&!r.includes(a.sub3)||n.push(s),t.continue()}};e=function(e){var n=e.transaction("gears","readonly"),i=n.objectStore("gears").index("typeIndex");if("blank"===a.type||"headgear"===a.type){var c=i.openCursor("headgear");c.onsuccess=function(){s(c)}}n.oncomplete=function(){t.queryDB(r,t)}};var r=function(e){var n=e.transaction("gears","readonly"),r=n.objectStore("gears").index("typeIndex");if("blank"===a.type||"clothing"===a.type){var c=r.openCursor("clothing");c.onsuccess=function(){s(c)}}n.oncomplete=function(){t.queryDB(i,t)}},i=function(e){var r=e.transaction("gears","readonly"),i=r.objectStore("gears").index("typeIndex");if("blank"===a.type||"shoes"===a.type){var c=i.openCursor("shoes");c.onsuccess=function(){s(c)}}r.oncomplete=function(){t.setState({gearArray:n})}}}this.queryDB(e,this)}},{key:"resetDatabase",value:function(){this.queryDB((function(e){e.transaction("gears","readwrite").objectStore("gears").clear()}),this),this.setState({gearFilter:{}}),this.displayGear()}},{key:"render",value:function(){var e="data:application/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(this.state.gearArray));return Object(p.jsxs)("div",{className:"App",children:[Object(p.jsxs)("div",{className:"Tab-header",children:[Object(p.jsx)("button",{onClick:this.toggleAddItem,children:"Add Gear"}),Object(p.jsx)("button",{onClick:this.toggleSearchItem,children:"Search Gear"}),Object(p.jsx)("button",{onClick:this.toggleFileIO,children:"File IO"}),Object(p.jsx)("button",{onClick:this.removeGear,children:"Remove Selected Gear"}),Object(p.jsx)("button",{onClick:this.resetDatabase,children:"Resetti Spaghetti"})]}),Object(p.jsxs)("div",{children:[this.state.showAddItem&&Object(p.jsx)(g,{addGear:this.addGear}),this.state.showSearchItem&&Object(p.jsx)(f,{setFilter:this.setFilter}),this.state.showFileIO&&Object(p.jsx)("div",{children:Object(p.jsx)(v,{importFile:this.importFile,children:Object(p.jsx)("a",{href:e,download:"gearArray.json",children:"Export as .json"})})})]}),Object(p.jsx)(S,{gearArray:this.state.gearArray,selectGear:this.selectGear,gearSelected:this.state.gearSelected}),Object(p.jsxs)("footer",{children:[Object(p.jsx)("p",{className:"Status",children:"This React app is at a stable build. Development may or may not be continuing."}),Object(p.jsx)("br",{}),Object(p.jsxs)("p",{className:"Disclaimer",children:["This React app is in no way affilated with Nintendo.",Object(p.jsx)("br",{}),"All product names, logos, and brands are property of their respective owners."]})]})]})}}]),a}(s.a.Component),k=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,19)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,r=t.getLCP,i=t.getTTFB;a(e),n(e),s(e),r(e),i(e)}))};i.a.render(Object(p.jsx)(s.a.StrictMode,{children:Object(p.jsx)(x,{})}),document.getElementById("root")),k()}},[[18,1,2]]]);
//# sourceMappingURL=main.266966c0.chunk.js.map